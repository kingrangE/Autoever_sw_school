# 12월 24일

## 데이터베이스
> 컴퓨터의 `기억 능력`을 활용하여 `자료`를 `가공,저장,활용`하는 `일체의 기술`
> 용어 의미
> - Data : 자료를 의미하는 datum의 복수형
> - Base : 집합
> - 즉, 자료 여러개의 집합

### 데이터와 정보
1. 데이터 : 어떤 필요에 의해 수집했지만, `특정 목적을 위해 평가하거나 정제하지 않은 값`이나 `사실 또는 자료` 
2. 정보 : `수집한 데이터`를 `어떠한 목적을 위해 분석`하거나 `가공`하여 `가치를 추가`하거나, `새로운 의미`를 이끌어 낼 수 있는 결과
3. 지식 : 상호 연결된 `정보 패턴을 이해`하여 `이를 토대로 예측한 결과물`로 `정보에 기반한 규칙`, 획득한 `다양한 정보를 구조화`하여 `유의미한 정보로 분류`하고 `일반화 시킨 결과물`
4. 지혜 : 근본 원리에 대한 깊은 이해를 바탕으로 도출되는 `창의적 아이디어`

### 효율적 데이터 관리를 위한 조건
1. `데이터 통합`하여 관리
2. `일관된 방법`으로 관리
3. 데이터 `누락 및 중복 제거`
4. 여러 사용자가 `공동으로 실시간 사용 가능`
- 상황에 따라 다름 4번 정도가 중요  

### 데이터베이스 특징
1. 운영상 필요한 데이터를 `중복을 최소화`해서 `컴퓨터 기억 장치`내에 모아놓은 집합체
    - 즉, `사용하기 편리하도록` 만들어 놓은 `데이터의 집합`
2. 데이터의 `중복 없이` 서로 관련되어 있어, `관련된 모든 환경에서 사용`될 수 있는 `데이터들의 집합`
    - 데이터의 중복 -> 종속
        - 종속 : 어느 하나가 변경되었을 때, 다른 요소에 영향을 주는 것
            - 개발에서 종속은 매우 안 좋은 것, 이를 해결하기 위해 개발 디자인에서도 Controller-Service-Repository, MVC 패턴을 사용한다.
                - 최근 MVC패턴은 서버에서 View를 안하는 추세로 가서 사라지는 추세다.
        - 데이터의 중복(종속)을 최소화하여 관리할 수 있게 하는 것이 `데이터베이스`
3. 자료를 획득하여 체계적으로 `분류`, `정리`한 다음 컴퓨터에서 처리가 가능하도록 `전자적 형태로 저장`한 것
4. 하나의 주제와 관련된 `Data들의 모음`
5. `통합`, `저장`, `운영` 가능한 `공동 데이터`

### 데이터베이스 사용 목적
- Database를 이용한 Database 관리 시스템은 `파일 관리 시스템`이 갖는 `구조적 한계를 극복`하기 위해 고안되었다.
    - 구조적 한계
        - 중복 
        - 조회 불편
        - 변경 불편
        - 등
- `데이터와 응용프로그램 사이의 종속을 최소화`하기 위해 사용한다.
    - 파일 관리 시스템의 가장 큰 문제 : `데이터`와 `프로그램`의 밀접한 관계
        - 이를 제거하기 위해 데이터베이스 고안
    - 데이터를 저장하거나 검색하는 등의 `데이터 관련 기능`을 `데이터베이스 관리 시스템`이 전담하도록 함으로써, 파일 관리 시스템이 지닌 `데이터와 응용프로그램 사이의 종속성을 최소화`, 데이터 변경으로 인해 생기는 `프로그램의 수정, 관리를 최소화`할 수 있다.
- 데이터의 중복으로 인한 `비 일관성 최소화`하기 위해 사용된다.
    - `공통된 데이터 저장 공간을 사용`하기 때문에 `데이터의 중복`에서 발생하는 `비 일관성`을 최소화할 수 있다.

### 데이터베이스가 갖춰야 할 조건
1. 대용량 : `대규모의 데이터`를 무리없이 `저장`
2. 효율성 : `저장 구조를 정교하게 설계`하여, `불필요한 중복을 제거`하고, `치밀하게 관리`
    - 이를 통해 데이터베이스 유지에 사용되는 고가의 장비를 최대한 활용할 수 있다.
3. 무결성 : 데이터를 `오류없이 관리`하기 위해 `이중,삼중 안전 장치`가 필요하다.
4. 활용성 : `필요할 때 활용`할 수 있어야 한다.
5. 공유성 : `정보를 공유`할 수 있어야 한다.
    - 정보는 공유할 때 가치가 더 높아진다.
6. 보안성 : 인증받지 않은 `외부 침입자로부터 보호`해야 한다.

## DBMS(데이터베이스 관리 시스템)
> `방대한 양의 데이터`를 `편리하게 관리`하고, `효율적으로 저장`,`검색`할 수 있는 `환경을 제공`해주는 `소프트웨어`
> - 데이터베이스 : 데이터를 저장하고 있는 객체
> - DBMS : DB를 다루는 프로그램

### DBMS의 필요성
1. 생산성 향상
2. 기능성 향상
3. 신뢰성 향상
    - 확장성(scalability)과 부하 분산(load balancing)를 구현

### DBMS 기능
#### 정의 기능(Definition)
> Create, Alter, Drop, Truncate, Rename
- `데이터의 형태`, `구조`, `데이터베이스의 저장`에 관한 `내용을 정의`, `다양한 응용 프로그램`과 `데이터베이스`가 `서로 Interface`할 수 있는 방법 제공
- `하나의 물리적 구조의 Database`로 여러 사용자가 `다양한 형태의 데이터를 요청`해도 이를 지원할 수 있도록 적절한 `데이터베이스 구조를 정의`할 수 있는 기능
- 특징
    1. `모든 응용 프로그램이 요구하는 데이터 구조를 지원`할 수 있게 `Database의 논리적 구조`와 `그 특성`을 목표 DBMS가 `지원하는 데이터 모델에 맞게 기술`
    2. 데이터베이스를 `물리적 저장 장치에 저장`하는데 `필요한 명세 포함`
    3. 데이터의 `논리적 구조와 물리적 구조 사이`에 `변환이 가능`하도록 명세

#### 조작 기능(Manipulation)
> Select, Insert, Update, Delete (CRUD)
- 사용자의 요구에 따라 `검색`,`삽입`,`갱신`,`삭제` 등을 지원하는 기능
- 사용자와 DB 사이의 Interface를 위한 수단 제공
- 특징
    1. 사용하기 쉬움
    2. 명확하고 안전함
    3. 효율적임
- 참고
    1. 최근엔 select와 그 외(insert,update, delete)로 구분한다.
        - select : 동시에 가능
        - insert, update, delete : 동시에 불가
        - 이렇게 구분하는 것이 CQRS
            - CQRS : `Command Query Responsibility Segregation` (명령과 조회의 책임 분리)
                - 일반적으로는 조회와 명령(값에 영향을 줌)을 하나의 모델에서 수행했다.
                - CQRS는 `select` / `insert,update,delete`를 구분하여 아래의 장점을 취한다.
                    1. `성능 최적화` 
                        - DB `읽기 비율이 조회 비율보다 높다`. 읽기 작업만 조회 전용 DB에서 수행하면 읽기 성능을 높일 수 있다.
                    2. `확장성`
                        - 명령용 서버와 조회용 서버를 구분하여 트래픽에 맞게 각자 확장할 수 있다. (예를 들어, 조회가 폭주하는 경우 조회용 서버만 scale up/out)
                    3. `복잡도 감소`
                        - 데이터를 저장할 때 규칙과 화면에 보여줄 때 규칙이 다른 경우, CQRS를 적용하면 코드가 깔끔해진다.
                - CQRS의 단점
                    1. `구현 난이도`
                        - 시스템 구조가 복잡해지므로, 설계와 관리가 어렵다.
                    2. `데이터 일관성`
                        - 명령용, 조회용을 분리할 경우 데이터가 수정된 것이 반영되기까지의 딜레이가 생길 수 있어 `최종일관성`문제가 발생할 수 있다.
            - CQRS를 알고 적용을 해봤냐 안 해봤냐의 차이가 있으므로, 프로젝트는 CQRS를 적용해보기
    
#### 제어 기능(Control)
> grant, revoke, commit, rollback...
- DataBase의 내용에 대해 정확성과 안전성을 유지하는 기능 
    - 무결성 유지, 보안, 병행 수행 제어, 회복
- 특징
    1. Database를 접근하는 `갱신`, `삽입`, `삭제` 작업이 `정확하게 수행`되게 하여, `데이터의 무결성이 파괴되지 않도록` 제어한다.
    2. `정당한 사용자가 허가된 데이터에 접근`할 수 있게끔 `보안 유지` 및 `권한 검사`한다.
    3. 여러 사용자가 `Database`에 `동시에 접근`하여 데이터를 처리할 때, `Database와 처리 결과가 항상 정확`하도록 병행 제어한다.
    4. `Transaction을 수행`하는 도중 `장애`로 인해 `손상된 Database`를 `손상되기 이전의 정상적인 상태로 복구`시키는 작업

### DBMS의 역사
1. 1960년대 : 파일시스템, Flat-File,ISAM
2. 1970년대 : Network-DB, Hierarchical-DB
    - Network-DB
        - 계층형 데이터베이스의 `데이터 중복 문제`를 해결하기 위해 `레코드 간의 관계`를 그물처럼 갖는 구조, `다대다 관계` 지원
    - Hierarchical-DB
        - `디렉토리`와 `파일` 등을 계층적 구조로 저장
3. 1980년대 : 관계형-RDBMS
    - RDBMS
        - 데이터를 테이블 단위로 저장
4. 1990년대 : 관계형-RDBMS, 객체 지향형, 객체 관계형
    - 객체 지향 
        - 객체 그대로를 Database의 데이터로 저장
    - 객체 관계
        - 객체 지향의 장점을 RDBMS에 적용
5. 2000년대 : 분산파일시스템, NoSQL
    - 분산 파일 시스템 : Hadoop
    - NoSQL 
        - Key-Value Store : 키-값의 형식으로 단순하게 데이터를 저장하는 방식의 Database
            - 종류: Firebase Realtime Database, Redis 등
        - Document : 하나의 데이터를 하나의 문서로 취급하는 Database
            - 종류 : mongo DB
        - Big Table: Key-Value 형식을 확장한 개념, Column Family 라는 개념을 도입한 Database로 `Cassandra`, `Hbase`가 대표적
    